
<!-- saved from url=(0022)http://idarbek.com/p5/ -->
<html><head>
<title>
    p5.js example
</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><script src="p5.min.js"></script>
  <script>
    var circle = 1;
    var rectangle = 0;
    var curX = [0];
    var curY = [0];
    var offset = [0];
    var n = 0;
    var A = 50;//Width of circle
    var SPEED = 1;//Speed of Line
    var maxR = 200;
    var minR = 10;
    var maxS = 10;
    var minS = 1;
    function setup() {
      createCanvas(windowWidth, windowHeight);
      background(255);
    }
    function draw() {
      clear();
      if(mouseIsPressed)
      {
        if(pmouseX >= 0 && pmouseY >= 0)
        {
          curX[n] = pmouseX;
          curY[n] = pmouseY;
          offset[n] = 0;
          n++;
        }
      }
      for(var i = 0; i < n; i++)
      {
        if(circle)
          ellipse(curX[i], curY[i], 1 + offset[i], 1 + offset[i]);
        else
          rect(curX[i] - (1 + offset[i]) / 2, curY[i] - (1 + offset[i]) / 2, 1 + offset[i], 1 + offset[i]);
        offset[i] += SPEED;
        if(offset[i] > A - 1)
          offset[i] = 0;
      }
    }
    function switch_rect()
    {
      rectangle = 1;
      circle = 0;
    }
    function switch_circle()
    {
      rectangle = 0;
      circle = 1;
    }
    function setSpeed()
    {
      var speed = int(document.getElementById('speed').value);
      if(!speed)
        speed = 1;
     if(document.getElementById('speed').value.length)
        SPEED = speed;
      document.getElementById('speedText').value = SPEED;
    }
    function setSpeedText()
    {
      var speed = int(document.getElementById('speedText').value);
      if(!speed)
        speed = 1;
     if(document.getElementById('speedText').value.length)
        SPEED = speed;
      if(SPEED > maxS)
        SPEED = maxS;
      if(SPEED < minS)
        SPEED = minS;
      document.getElementById('speedText').value = SPEED;
      document.getElementById('speed').value = SPEED;
    }
    function setRadius()
    {
      var radius = int(document.getElementById('radius').value);
      if(!radius)
        radius = 1;
      if(document.getElementById('radius').value.length)
        A = radius;  
      document.getElementById('radiusText').value = A;
    }
    function setRadiusText()
    {
      var radius = int(document.getElementById('radiusText').value);
      if(!radius)
        radius = 1;
      if(document.getElementById('radiusText').value.length)
        A = radius;  
      if(A > maxR)
        A = maxR;
      if(A < minR)
        A = minR;
      document.getElementById('radiusText').value = A;
      document.getElementById('radius').value = A;
    }
    function clear_all()
    {
      n = 0;
    }
  </script>
  </head>
  <body>
    <button onclick="clear_all()">
        Clear
    </button>
    <button onclick="switch_rect()">
        Rectangle
    </button>
    <button onclick="switch_circle()">
        Circle
    </button>

    Speed<input id="speed" type ="range" min ="1" max="10" value="1" step ="1" onchange="setSpeed()" />
    <input style="width: 30px;" type="text" id="speedText" value="1" onchange="setSpeedText()">
    Radius<input id="radius" type ="range" min ="10" max="200" value="50" step ="10" onchange="setRadius()" />
    <input style="width: 30px;" type="text" id="radiusText" value="50" onchange="setRadiusText()">
    
    
  </body>
</html>